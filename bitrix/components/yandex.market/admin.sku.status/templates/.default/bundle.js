this.BX=this.BX||{},this.BX.YandexMarket=this.BX.YandexMarket||{},function(e){"use strict";var t=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"rating",value:function(e,t){return'<span class="ym-sku-status-rating level--'.concat(this.ratingLevel(e),'">\n\t\t\t').concat(null!=e?"".concat(e," ").concat(t.message("RATING_SUFFIX")):"&mdash;","\n\t\t</span>")}},{key:"ratingLevel",value:function(e){return null==e?"unknown":e>=80?"good":e>=40?"warning":"error"}}]),e}(),n=window.BX,s=function(){function e(t,n){babelHelpers.classCallCheck(this,e),this.messages=t,this.locale=n}return babelHelpers.createClass(e,[{key:"show",value:function(){new n.CAdminDialog({content:this.content(),width:800,height:500}).Show()}},{key:"content",value:function(){var e=this;return Object.entries(this.messages).map((function(t){var n=babelHelpers.slicedToArray(t,2),s=n[0],r=n[1];return'\n\t\t\t<div class="ym-sku-status-messages-group">'.concat(e.locale.message(s.toUpperCase()),'</div>\n\t\t\t<ul class="ym-sku-status-messages">\n\t\t\t\t').concat(r.map((function(e){return'<li class="ym-sku-status-message">\n\t\t\t\t\t'.concat(e.message?'<div class="ym-sku-status-message__title">'.concat(e.message,"</div>"):"","\n\t\t\t\t\t").concat(e.comment?'<div class="ym-sku-status-message__comment">'.concat(e.comment,"</div>"):"","\n\t\t\t\t</li>")})).join(""),"\n\t\t\t</ul>\n\t\t")})).join("")}}]),e}(),r=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"mount",value:function(e){}},{key:"unmount",value:function(e){}}]),e}();function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var l=window.BX,o=function(e){function n(e,t,r,i){var a;return babelHelpers.classCallCheck(this,n),a=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this)),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(a),"onPopupClick",(function(e){var t=e.currentTarget,n=a.offer(+t.dataset.business,+t.dataset.offer);new s(n.messages,a.locale).show(),e.preventDefault()})),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(a),"onSiblingsClick",(function(e){var t=e.currentTarget,n=t.parentElement,s=t.getAttribute("title");t.remove(),n.textContent=n.textContent.trim()+", "+s,e.preventDefault()})),a.elementStatus=t,a.businesses=e,a.locale=r,a.insideHint=i,a}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"handlePopupClick",value:function(e,t){var n,s=i(e.querySelectorAll('[data-action="popup"]'));try{for(s.s();!(n=s.n()).done;){n.value[t?"addEventListener":"removeEventListener"]("click",this.onPopupClick)}}catch(e){s.e(e)}finally{s.f()}}},{key:"handleSiblingsClick",value:function(e,t){var n,s=i(e.querySelectorAll('[data-action="siblings"]'));try{for(s.s();!(n=s.n()).done;){n.value[t?"addEventListener":"removeEventListener"]("click",this.onSiblingsClick)}}catch(e){s.e(e)}finally{s.f()}}},{key:"mount",value:function(e){e.innerHTML=this.render(),this.handlePopupClick(e,!0),this.handleSiblingsClick(e,!0)}},{key:"unmount",value:function(e){this.handlePopupClick(e,!1),this.handleSiblingsClick(e,!1)}},{key:"render",value:function(){var e,n=[],s=i(this.businesses);try{for(s.s();!(e=s.n()).done;){var r=e.value;if(null!=this.elementStatus.businesses[r.id]){var a=this.elementStatus.businesses[r.id],l="";this.businesses.length>1?l+='<div class="ym-sku-status-business">\n\t                <div class="ym-sku-status-business__title">'.concat(r.name,"</div>\n\t                ").concat(this.locale.message("RATING_TITLE"),": ").concat(t.rating(a.rating,this.locale),"\n\t            </div>"):this.insideHint||(l+='<div class="ym-sku-status-business">\n\t                '.concat(this.locale.message("RATING_TITLE"),": ").concat(t.rating(a.rating,this.locale),"\n\t\t\t\t</div>")),null!=a.error?l+='<div class="errortext">'.concat(a.error,"</div>"):l+=this.renderOffers(r,a),n.push(l)}}}catch(e){s.e(e)}finally{s.f()}return 0===n.length?this.insideHint?this.locale.message("UNPLACED"):"".concat(this.locale.message("RATING_TITLE"),": ").concat(this.locale.message("UNPLACED")):n.join("")}},{key:"renderOffers",value:function(e,t){var n=this,s=t.offers.map((function(t){return'<div class="ym-sku-status-offer">\n\t\t\t<div class="ym-sku-status-offer__title">\n\t\t\t\t'.concat(n.offerName(t),"\n\t\t\t\t").concat(n.offerSiblings(t),"\n\t\t\t</div>\n\t\t\t").concat(null!=t.caption?"\n\t\t\t\t".concat(t.caption.text,"<br />\n\t\t\t\t").concat(t.caption.more?"".concat(t.caption.more,"<br />"):"",'\n\t\t\t\t<a class="ym-sku-status-offer__more" href="#" data-business="').concat(e.id,'" data-offer="').concat(t.id,'" data-action="popup">').concat(n.locale.message("DETAILS"),"</a>\n\t\t\t"):"","\n\t\t</div>")}));if(s.length<=5)return s.join("");var r=s.slice(0,5),i=s.slice(5);return"\n\t\t\t".concat(r.join(""),'\n\t\t\t<details class="ym-sku-status-offers-additional">\n\t\t\t\t<summary>').concat(this.locale.message("MORE")," ").concat(i.length,"</summary>\n\t\t\t\t").concat(i.join(""),"\n\t\t\t</details>\n\t\t")}},{key:"offerSiblings",value:function(e){var t=this,n=e.siblings;if(null==n)return"";var s=n.map((function(e){return t.offerName(e)})).join(", ");return'<a class="ym-sku-status-offer__siblings" href="#" title="'.concat(l.util.htmlspecialchars(s),'" data-action="siblings">\n\t\t\t').concat(this.locale.message("MORE")," ").concat(n.length,"\n\t\t</a>")}},{key:"offerName",value:function(e){return"".concat(e.name," [").concat(e.sku,"]")}},{key:"offer",value:function(e,t){var n,s=i(this.businesses);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(r.id===e){var a,l=i(this.elementStatus.businesses[r.id].offers);try{for(l.s();!(a=l.n()).done;){var o=a.value;if(o.id===t)return o}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){s.e(e)}finally{s.f()}throw new Error("offer ".concat(t," for business ").concat(e," not found"))}}]),n}(r),u=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"destroy",value:function(){}},{key:"container",value:function(){}},{key:"show",value:function(){}},{key:"showNow",value:function(){}}]),e}(),c=window.BX,h=function(e){function t(e){var n;return babelHelpers.classCallCheck(this,t),n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this)),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(n),"defaults",{showTimeout:200,hideTimeout:200}),n.hint=new c.CHint({parent:e,hint:"holder",show_timeout:n.defaults.showTimeout,hide_timeout:n.defaults.hideTimeout}),n.hint.Init(),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"destroy",value:function(){this.hint.Destroy()}},{key:"container",value:function(){return this.hint.CONTENT_TEXT}},{key:"show",value:function(){this.hint.Show()}},{key:"showNow",value:function(){var e=this.hint.PARAMS.show_timeout;this.hint.PARAMS.show_timeout=0,this.hint.Show(),this.hint.PARAMS.show_timeout=e}}]),t}(u),f=window.BX,d=function(e){function t(e){var n;return babelHelpers.classCallCheck(this,t),(n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this))).hint=new f.PopupWindow({autoHide:!0,draggable:!1,closeByEsc:!0,bindElement:e,content:"holder",maxWidth:500,angleLeftOffset:20,angle:{position:"top",offset:20+n.angleOffset(e)}}),n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"angleOffset",value:function(e){var t=e.querySelector(".ym-sku-status-rating");if(null==t)return 15;var n=t.getBoundingClientRect(),s=e.getBoundingClientRect();return n.left-s.left+(n.width||0)/2}},{key:"destroy",value:function(){this.hint.destroy()}},{key:"container",value:function(){return this.hint.contentContainer}},{key:"show",value:function(){this.hint.show()}},{key:"showNow",value:function(){this.hint.show()}}]),t}(u),v=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"create",value:function(e,t){return t?new h(e):new d(e)}}]),e}(),b=function(e){function n(e,t,s,r){var i;return babelHelpers.classCallCheck(this,n),i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this)),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"defaults",{showTimeout:200,hideTimeout:200}),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"onClick",(function(e){i.handleMouseOver(e.currentTarget,!1),i.bootHint(e.currentTarget).showNow()})),babelHelpers.defineProperty(babelHelpers.assertThisInitialized(i),"onMouseOver",(function(e){i.handleMouseOver(e.currentTarget,!1),i.bootHint(e.currentTarget).show()})),i.elementStatus=t,i.businesses=e,i.locale=s,i.offerGrid=new o(e,t,s,!0),i.admin=r,i}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"handleClick",value:function(e,t){e[t?"addEventListener":"removeEventListener"]("click",this.onClick)}},{key:"handleMouseOver",value:function(e,t){this.admin&&e[t?"addEventListener":"removeEventListener"]("mouseover",this.onMouseOver)}},{key:"mount",value:function(e){e.innerHTML="".concat(this.locale.message("RATING_TITLE"),": ").concat(t.rating(this.elementStatus.rating,this.locale)),this.handleClick(e,!0),this.handleMouseOver(e,!0)}},{key:"unmount",value:function(e){this.handleMouseOver(e,!1),this.handleClick(e,!1),this.destroyHint()}},{key:"bootHint",value:function(e){return null!=this.hint||(this.hint=v.create(e,this.admin),this.offerGrid.mount(this.hint.container())),this.hint}},{key:"destroyHint",value:function(){null!=this.hint&&(this.offerGrid.unmount(this.hint.container()),this.hint.destroy(),this.hint=null)}}]),n}(r),y=function(e){function t(e,n){var s;return babelHelpers.classCallCheck(this,t),(s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this))).error=e,s.locale=n,s}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"mount",value:function(e){var t=e.querySelector(".ym-sku-status-loader"),n='<div class="errortext">'.concat(this.error.message||this.locale.message("UNKNOWN_ERROR"),"</div>");null!=t?t.outerHTML=n:e.innerHTML=n}}]),t}(r),m=function(){function e(t,n,s){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};babelHelpers.classCallCheck(this,e),babelHelpers.defineProperty(this,"destroyed",!1),this.el=t,this.transport=n,this.locale=s,this.options=Object.assign({},e.defaults,r)}return babelHelpers.createClass(e,[{key:"destroy",value:function(){this.destroyed=!0,this.transport=null,this.locale=null,this.destroyView()}},{key:"id",value:function(){return this.options.id}},{key:"load",value:function(){this.loading(),this.transport.load(this.options.id).then(this.render.bind(this)).catch(this.fail.bind(this))}},{key:"waitLoad",value:function(e){e.then(this.render.bind(this)).catch(this.fail.bind(this))}},{key:"loading",value:function(){var e=this.el.querySelector(".ym-sku-status-loader");null!=e&&e.classList.add("is--active")}},{key:"render",value:function(e){var t=e.element,n=e.businesses;this.destroyed||this.draw("grid"===this.options.theme?new b(n,t,this.locale,this.options.admin):new o(n,t,this.locale))}},{key:"fail",value:function(e){this.destroyed||this.draw(new y(e,this.locale))}},{key:"draw",value:function(e){this.destroyView(),this._view=e,e.mount(this.el)}},{key:"destroyView",value:function(){null!=this._view&&(this._view.unmount(this.el),this._view=null)}}]),e}();function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}babelHelpers.defineProperty(m,"defaults",{id:null,theme:null,admin:!1});var g=function(){function e(t,n,s){var r=this;babelHelpers.classCallCheck(this,e),babelHelpers.defineProperty(this,"loadStart",(function(){if(r._loadTimeout=null,0!==r._loadQueue.length){var e,t=r.fulfilQueue(r._loadQueue).slice(),n=p(r.chunkQueue(t));try{for(n.s();!(e=n.n()).done;){var s=e.value;BX.ajax({url:r.options.url,method:"POST",dataType:"json",data:Object.assign({},r.options.payload,{id:s}),onsuccess:function(e){null==e||"object"!==babelHelpers.typeof(e)||null==e.status?r.rejectAll(t,new Error(r.locale.message("UNKNOWN_RESPONSE_FORMAT"))):"ok"===e.status?r.resolve(t,e.data.elements,e.data.businesses):"error"===e.status?r.rejectAll(t,new Error(e.message)):r.rejectAll(t,new Error(r.locale.message("UNKNOWN_RESPONSE_FORMAT")))},onfailure:function(e,n){var s=n instanceof Error?n:new Error("".concat(e," ").concat(n));r.rejectAll(t,s)}})}}catch(e){n.e(e)}finally{n.f()}r._loadQueue=[]}})),this.factory=t,this.locale=n,this.options=Object.assign({},e.defaults,s),this._loadQueue=[],this._loadPromises={},this._loadResolvers={},this._loadTimeout=null,this._loaded={},this._businesses=null}return babelHelpers.createClass(e,[{key:"load",value:function(e){var t=this;return this._loaded[e]instanceof Error?Promise.reject(this._loaded[e]):null!=this._loaded[e]?Promise.resolve({element:this._loaded[e],businesses:this._businesses}):(null!=this._loadPromises[e]||(this._loadQueue.push(e),this._loadPromises[e]=new Promise((function(n,s){t._loadResolvers[e]={resolve:n,reject:s},null==t._loadTimeout&&(t._loadTimeout=setTimeout(t.loadStart,t.options.delay))}))),this._loadPromises[e])}},{key:"resolve",value:function(e,t,n){this._businesses=n;var s,r=p(e);try{for(r.s();!(s=r.n()).done;){var i=s.value;if(null!=this._loadResolvers[i]){if(null!=t[i])this._loaded[i]=t[i],this._loadResolvers[i].resolve({element:t[i],businesses:n});else{var a=new Error(this.locale.message("MISSING_DATA"));this._loaded[i]=a,this._loadResolvers[i].reject(a)}delete this._loadPromises[i],delete this._loadResolvers[i]}}}catch(e){r.e(e)}finally{r.f()}}},{key:"rejectAll",value:function(e,t){var n,s=p(e);try{for(s.s();!(n=s.n()).done;){var r=n.value;null!=this._loadResolvers[r]&&(this._loaded=t,this._loadResolvers[r].reject(t),delete this._loadPromises[r],delete this._loadResolvers[r])}}catch(e){s.e(e)}finally{s.f()}}},{key:"fulfilQueue",value:function(e){var t=this;if(null==this.options.limit)return e;var n,s=+this.options.limit,r=s-e.length%s,i=p(this.factory.fulfilQueue(r,e,this._loaded));try{var a=function(){var s=n.value,r=s.id();t._loadPromises[r]=new Promise((function(e,n){t._loadResolvers[r]={resolve:e,reject:n}})),s.waitLoad(t._loadPromises[r]),e.push(r)};for(i.s();!(n=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return e}},{key:"chunkQueue",value:function(e){if(null==this.options.limit)return[e];for(var t=+this.options.limit,n=[],s=0;s<e.length;s+=t)n.push(e.slice(s,s+t));return n}}]),e}();babelHelpers.defineProperty(g,"defaults",{url:null,limit:null,delay:1e3,payload:{}});var w=function(){function e(t){babelHelpers.classCallCheck(this,e),this._messages=t}return babelHelpers.createClass(e,[{key:"message",value:function(e){return this._messages[e]||e}}]),e}();function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var _=window.BX||top.BX,T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};babelHelpers.classCallCheck(this,e),this.selector=t,this.options=Object.assign({},e.defaults,n),this.observer=new IntersectionObserver(this.onIntersect.bind(this)),this.locale=new w(this.options.locale),this.transport=new g(this,this.locale,this.options.transport),this.instances=new Map,this.search(),this.bind()}return babelHelpers.createClass(e,null,[{key:"instance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.factories[e]&&(this.factories[e]=new this(e,t)),this.factories[e]}}]),babelHelpers.createClass(e,[{key:"onIntersect",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;s.isIntersecting&&(this.make(s.target).load(),this.observer.unobserve(s.target))}}catch(e){n.e(e)}finally{n.f()}}},{key:"search",value:function(){var t,n=C(document.querySelectorAll(this.selector));try{for(n.s();!(t=n.n()).done;){var s=t.value;null==s.dataset.status&&(this.observer.observe(s),s.dataset.status=e.WAIT_TOKEN)}}catch(e){n.e(e)}finally{n.f()}}},{key:"make",value:function(t){var n=new m(t,this.transport,this.locale,Object.assign({},this.options,{id:+t.dataset.id,theme:t.dataset.theme}));return t.dataset.status=e.READY_TOKEN,this.instances.set(t,n),n}},{key:"bind",value:function(){var e=this;_.addCustomEvent("onAdminTabsChange",(function(){return e.tryCheck()})),_.addCustomEvent("onAjaxSuccessFinish",(function(){return e.tryCheck()})),_.addCustomEvent("Grid::updated",(function(){return e.tryCheck()})),_.addCustomEvent("Grid::thereEditedRows",(function(){return e.tryCheck()})),_.addCustomEvent("Grid::noEditedRows",(function(){return e.tryCheck()}))}},{key:"tryCheck",value:function(){var e=this;clearTimeout(this.checkTimeout),this.checkTimeout=setTimeout((function(){return e.check()}),50)}},{key:"check",value:function(){this.checkObserver(),this.checkInstances(),this.search()}},{key:"checkObserver",value:function(){var e,t=C(this.observer.takeRecords());try{for(t.s();!(e=t.n()).done;){var n=e.value;document.contains(n.target)||this.observer.unobserve(n.target)}}catch(e){t.e(e)}finally{t.f()}}},{key:"checkInstances",value:function(){var e,t=C(this.instances.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;document.contains(n)||(this.instances.get(n).destroy(),this.instances.delete(n))}}catch(e){t.e(e)}finally{t.f()}}},{key:"fulfilQueue",value:function(e,t,n){if(e<=0)return t;var s,r=this.splitElementsByPosition(t,n),i=babelHelpers.slicedToArray(r,3),a=i[0],l=i[1],o=i[2],u=[],c=C(this.selectNearestElements(e,a,l,o));try{for(c.s();!(s=c.n()).done;){var h=s.value,f=void 0;this.instances.has(h)?f=this.instances.get(h):(f=this.make(h),this.observer.unobserve(h)),u.push(f)}}catch(e){c.e(e)}finally{c.f()}return u}},{key:"splitElementsByPosition",value:function(e,t){var n,s=[],r=[],i=[],a=!1,l=C(document.querySelectorAll(this.selector));try{for(l.s();!(n=l.n()).done;){var o=n.value,u=+o.dataset.id;u<=0||Number.isNaN(u)||(-1===e.indexOf(u)?null==t[u]&&(a?i.push(o):s.unshift(o)):(a=!0,i.length>0&&(r.push.apply(r,babelHelpers.toConsumableArray(i)),i=[])))}}catch(e){l.e(e)}finally{l.f()}return[s,r,i]}},{key:"selectNearestElements",value:function(e,t,n,s){if(n.length>=e)return n.slice(0,e);var r=[];n.length>0&&(r.push.apply(r,babelHelpers.toConsumableArray(n)),e-=r.length);for(var i=[t,s].filter((function(e){return e.length>0})),a=e;a>0;--a){var l=i.shift();if(null==l)break;r.push(l.shift()),0!==l.length&&i.push(l)}return r}}]),e}();babelHelpers.defineProperty(T,"WAIT_TOKEN","wait"),babelHelpers.defineProperty(T,"READY_TOKEN","ready"),babelHelpers.defineProperty(T,"factories",{}),babelHelpers.defineProperty(T,"defaults",{transport:null,locale:{}}),e.SkuStatusFactory=T}(this.BX.YandexMarket.Admin=this.BX.YandexMarket.Admin||{});
//# sourceMappingURL=bundle.js.map
